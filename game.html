
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gameframe - Geometry Tryhard</title>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9797604980960415"
     crossorigin="anonymous"></script>
     <script src="https://kit.fontawesome.com/5541300771.js" crossorigin="anonymous"></script>
    <link id="style" rel="stylesheet" href="">
    <script src="style.js"></script>
<body onload="load()">
<script>
styleload();
</script>
<div id="modebutton">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<button type="button" onclick="switchstyles();" id="dark mode">Change color</button>
<link rel="stylesheet" id="style" href="">
</div>
    <script src="style.js"></script>



<!-- Misc. buttons -->
<center><div id="text"><p>Some Unity games need to be opened in fullscreen to work, try that if the reload button is not working.</p></div>
<button class="button" onclick='create()'>Open Cloaked</button><button class="button" onclick="openFullscreen();">Full Screen</button><script>

      function openFullscreen() {
        var elem = document.getElementById("game");
        if (elem.requestFullscreen) {
          elem.requestFullscreen();
        } else if (elem.webkitRequestFullscreen) { /* Safari */
          elem.webkitRequestFullscreen();
        } else if (elem.msRequestFullscreen) { /* IE11 */
          elem.msRequestFullscreen();
        }
      }
      </script><script>
        //load code (new)
        function load(){
          var load = document.getElementById("game");
          load.src = "https://gtst1.github.io/" + getUrlParameter('game');
          styleload();
          openFullscreen();
        }


        function create() {
           //cloaker
            var win = window.open();
            win.document.body.style.margin = '0';
            win.document.body.style.cursor = 'cell';
            win.document.body.style.height = '100vh';
            var iframe = win.document.createElement('iframe');
            iframe.style.border = 'none';
            iframe.style.width = '100%';
            iframe.style.height = '100%';
            iframe.style.margin = '0';
            iframe.style.cursor = 'cell';
            iframe.src = "https://gtst1.github.io/" + getUrlParameter('game');
            win.document.body.appendChild(iframe);
        }
        </script><div id="embed"><embed onload="openFullscreen();" id="game" width="800" height="450" frameborder="0" style="cursor: cell;"></div></center>

<script>
// URL param get
function getUrlParameter(name) {
    name = name.replace(/[[]/, '\$$[').replace(/[]$$]/, '\\]');
    var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
    var results = regex.exec(location.search);
    return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
};

// Old broken load code
function loadGameIframe() {
    var gameParam = getUrlParameter('game');
    var iframe = document.getElementById('game');
//game assets url loader//
    iframe.src = "https://g4mes-on-github-io.github.io/" + gameParam;

  openFullscreen();
};

//button code for old loader
document.getElementById('loadIframeBtn').addEventListener('click', loadGameIframe);
</script>
  <!--redirect button style location-->
<style>

  #redirect {
      position: fixed;
      bottom: 10px;
      left: 10px;
    }
</style>
    <button id="redirect" onclick="goToHomePage()"><h1>&#8678;BACK</h1></button>
    <div id="reloadGame"><center><button class="button" onclick="load()">Reload Game</button></center></div>
    <script>
      //redirect
function goToHomePage() {
  window.location.href = "./games.html";
}
</script>
  <!--Spacers-->
<p>&nbsp;</p>
<p>&nbsp;</p>

</body>
</html>
